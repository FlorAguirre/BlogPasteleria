{% extends 'layouts/layout.html'%}


{%block title %} {{article.title}} {% endblock %}


{%block content %}

{% if article.image != 'null' and article.image.url|length >= 1 %}
<div class ="image">
    <img src = "{{article.image.url}}" />
</div>

{% endif%}
    <h1 class ="title">{{article.title}}</h1>
    <span class = "date">{{article.created_at}}</span>
    <p class = "content">
        {{article.content| safe}}
    </p>


    <p>{{ likes_count }} Likes</p>
    <form action="{% url 'like_article' article.id %}" method="POST">
        {% csrf_token %}
        <button type="submit">Like</button>
    </form>

    <br/><br/>
    <a href="{% url 'crear_comentario' article.id %}"><h4>Agregar un comentario...</h4></a>

    <br/><br/>

    {% comment %} <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit">Enviar comentario</button>
    </form> {% endcomment %}
  
    <!-- Mostrar los comentarios existentes -->
    <h2>Comentarios:</h2>
    {% for comment in article.comments.all %}
      <strong><p>{{ comment.author }} | {{ comment.created_on }} </strong> 
     
      <p>{{ comment.content }}</p>
      
      <hr>
    {% empty %}
      <p>No hay comentarios a√∫n.</p>
    {% endfor %}

    <a href="{% url 'list_articles' %}"><button>Volver</button></a>
{% endblock %}